{"componentChunkName":"component---src-templates-blog-post-js","path":"/Vue/jest/","result":{"data":{"site":{"siteMetadata":{"title":"Clean Dev","author":"[깔끔한청년]","siteUrl":"https://rlwi440.github.io","comment":{"disqusShortName":"","utterances":"rlwi440/rlwi440.github.io"},"sponsor":{"buyMeACoffeeId":"CleanDev"}}},"markdownRemark":{"id":"0a66098a-2d9c-5567-9af0-483443b7a760","excerpt":"Test 파일 작성규칙  폴더에 들어있는 test 파일 들은 작성한다. 폴더에 들어있는 test 파일 의 이름은 로 파일 을 작성한다. Vue Test Utils(VTU) Vue.js환경에서 단위 테스트를 하기 위한 공식 라이브러리 작성한 코드가 제대로 동작하는지 확인할때 사용가능하다. test.js 테스트 코드작성 에서는\nVuetify 가 localVue 인스턴스에서 사용되지 않는다 Vuetify 문서참조  단위 테스트 단위(Unit…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 796px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2UlEQVQoz2OwNrfAimwsLCzMLY2t7CzMrazNzbGqYcAqamthYWBoUhgdvjHVvyk52sLS2gabfgYc1lo62dnXpsTenFDdmhJjaGRqCzSASM3WFlZTKwoXNpRfqoxfUJRqZmljY0akzWbmVpbW26oyz2X57klwrYgNMwfqJtLPQHUWZhYp/j6pfp7mNg4mxma4ApUBq4dNDY1iYmILCouTYmOrysud7R0sTc2I0mxlauZk75CamFRSWJSRmlaQl+dga2dlRkpoA60C2m9hYmpubEKCs5GNgJNYEQCa+ZTKO0s4vwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Jest\"\n        title=\"Jest\"\n        src=\"/static/57104a5786dc509e0ced60ae08d9875b/d48f1/JestBlack.png\"\n        srcset=\"/static/57104a5786dc509e0ced60ae08d9875b/5a46d/JestBlack.png 300w,\n/static/57104a5786dc509e0ced60ae08d9875b/0a47e/JestBlack.png 600w,\n/static/57104a5786dc509e0ced60ae08d9875b/d48f1/JestBlack.png 796w\"\n        sizes=\"(max-width: 796px) 100vw, 796px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h3 id=\"test-파일-작성규칙\" style=\"position:relative;\"><a href=\"#test-%ED%8C%8C%EC%9D%BC-%EC%9E%91%EC%84%B1%EA%B7%9C%EC%B9%99\" aria-label=\"test 파일 작성규칙 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Test 파일 작성규칙</h3>\n<ul>\n<li><code class=\"language-text\">__tests__</code> 폴더에 들어있는 test 파일 들은 작성한다.</li>\n<li>폴더에 들어있는 test 파일 의 이름은 <code class=\"language-text\">테스트파일이름.test.js</code>로 파일 을 작성한다.</li>\n</ul>\n<h2 id=\"vue-test-utilsvtu\" style=\"position:relative;\"><a href=\"#vue-test-utilsvtu\" aria-label=\"vue test utilsvtu permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vue Test Utils(VTU)</h2>\n<ul>\n<li>Vue.js환경에서 단위 테스트를 하기 위한 공식 라이브러리</li>\n<li>작성한 코드가 제대로 동작하는지 확인할때 사용가능하다.</li>\n</ul>\n<blockquote>\n<p>test.js 테스트 코드작성 에서는\nVuetify 가 localVue 인스턴스에서 사용되지 않는다 <a href=\"https://vuetifyjs.com/en/getting-started/unit-testing/#bootstrapping-vuetify\">Vuetify 문서참조 </a></p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> shallowMount<span class=\"token punctuation\">,</span> createLocalVue <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@vue/test-utils'</span>\n<span class=\"token keyword\">import</span> Vuetify <span class=\"token keyword\">from</span> <span class=\"token string\">'vuetify'</span>\n<span class=\"token keyword\">import</span> store <span class=\"token keyword\">from</span> <span class=\"token string\">'@/store'</span>\n<span class=\"token keyword\">import</span> SearchBar <span class=\"token keyword\">from</span> <span class=\"token string\">'../SearchBar'</span>\n\n<span class=\"token keyword\">const</span> localVue <span class=\"token operator\">=</span> <span class=\"token function\">createLocalVue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nlocalVue<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>Vuetify<span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'SearchBar Component'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> wrapper\n  <span class=\"token function\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 설정</span>\n    wrapper <span class=\"token operator\">=</span> <span class=\"token function\">shallowMount</span><span class=\"token punctuation\">(</span>SearchBar<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      localVue<span class=\"token punctuation\">,</span>\n      store\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"단위-테스트\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%9C%84-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"단위 테스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>단위 테스트</h2>\n<p>단위(Unit) 테스트 란 상태,메소드,컴포넌트 등의 정의된 프로그램 최소 단위들이 독립적으로\n정상 동작하는지 확인하는것을 말하며,이를 통해 프로그램 전체의 신뢰도를 향상하고 코드 리팩터링(Code refactoring)의 부담을 줄일수가있다</p>\n<h3 id=\"모듈-설명\" style=\"position:relative;\"><a href=\"#%EB%AA%A8%EB%93%88-%EC%84%A4%EB%AA%85\" aria-label=\"모듈 설명 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>모듈 설명</h3>\n<table>\n<thead>\n<tr>\n<th align=\"center\">모듈</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\"><strong>jest</strong></td>\n<td>페이스북에서 만든 테스트 프레임워크</td>\n</tr>\n<tr>\n<td align=\"center\"><strong>vue-jest</strong></td>\n<td>Vue 파일을 Jest가 실행할 수 있는 자바스크립로 컴파일한다.</td>\n</tr>\n<tr>\n<td align=\"center\"><strong>babel-jest</strong></td>\n<td>JS/JSx 파일을 Jest가 실행할 수있는 자바스크립로 컴파일합니다.</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"jestconfigjs-설정\" style=\"position:relative;\"><a href=\"#jestconfigjs-%EC%84%A4%EC%A0%95\" aria-label=\"jestconfigjs 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>jest.config.js 설정</h2>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 파일 확장자를 지정하지 않은 경우, Jest가 검색할 확장자 목록입니다.</span>\n  <span class=\"token comment\">// 일반적으로 많이 사용되는 모듈의 확장자를 지정합니다.</span>\n  moduleFileExtensions<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'js'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'jsx'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'json'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'vue'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// `@` 같은 경로 별칭을 매핑합니다.</span>\n  <span class=\"token comment\">// E.g. `import SearchBar from '@/components/SearchBar'`</span>\n  <span class=\"token comment\">// `&lt;rootDir>` 토큰을 사용해 루트 경로를 참조할 수 있습니다.</span>\n  moduleNameMapper<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">'^@/(.*)$'</span><span class=\"token operator\">:</span> <span class=\"token string\">'&lt;rootDir>/src/$1'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// 일치하는 경로에서는 모듈을 가져오지 않습니다.</span>\n  <span class=\"token comment\">// `&lt;rootDir>` 토큰을 사용해 루트 경로를 참조할 수 있습니다.</span>\n  modulePathIgnorePatterns<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'&lt;rootDir>/node_modules'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'&lt;rootDir>/build'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'&lt;rootDir>/dist'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// 정규식과 일치하는 파일의 변환 모듈을 지정합니다.</span>\n  transform<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">'^.+\\\\.vue$'</span><span class=\"token operator\">:</span> <span class=\"token string\">'vue-jest'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'^.+\\\\.jsx?$'</span><span class=\"token operator\">:</span> <span class=\"token string\">'babel-jest'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// 각 테스트 파일이 실행되기 전,</span>\n  <span class=\"token comment\">// 테스트 프레임워크를 구성하거나 설정하기 위해,</span>\n  <span class=\"token comment\">// 일부 코드 실행 모듈의 경로를 지정합니다.</span>\n  setupFilesAfterEnv<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'./jest.setup.js'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"globals-의-자주-사용되는종류\" style=\"position:relative;\"><a href=\"#globals-%EC%9D%98-%EC%9E%90%EC%A3%BC-%EC%82%AC%EC%9A%A9%EB%90%98%EB%8A%94%EC%A2%85%EB%A5%98\" aria-label=\"globals 의 자주 사용되는종류 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Globals 의 자주 사용되는종류</h3>\n<table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\"><strong>describe</strong></td>\n<td>그룹으로 정의하고 목적에 맞는 세부 테스트를 진행할때 사용한다.</td>\n</tr>\n<tr>\n<td align=\"center\"><strong>test</strong></td>\n<td>테스트 파일에 필요한테스트 <code class=\"language-text\">test</code>를 실행하는 메서드, 첫번째 인수로는 <code class=\"language-text\">name</code> 테스트이름 , <code class=\"language-text\">fn</code> 테스트할 콜백함수 <code class=\"language-text\">timeout</code> 밀리초단위 <strong>참고 기본제한시간:5초</strong></td>\n</tr>\n<tr>\n<td align=\"center\"><strong>afterAll</strong></td>\n<td>모든 테스트가 완료된 후 함수를 실행합니다.</td>\n</tr>\n<tr>\n<td align=\"center\"><strong>beforeAll</strong></td>\n<td>테스트가 실행되기전에 함수를 실행합니다.</td>\n</tr>\n<tr>\n<td align=\"center\"><strong>beforeEach</strong></td>\n<td>테스트에서 사용할 전역 상태를 재설정하려는 경우에 유용 (기본시간제한은 5초)</td>\n</tr>\n<tr>\n<td align=\"center\"><strong>afterEach</strong></td>\n<td>테스트가 완료된 후 함수를 실행 테스트에서 생성된 일부임시상태를 정리 하려는경우 사용한다.</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"test-matcher의-자주-사용되는-종류-update20211003\" style=\"position:relative;\"><a href=\"#test-matcher%EC%9D%98-%EC%9E%90%EC%A3%BC-%EC%82%AC%EC%9A%A9%EB%90%98%EB%8A%94-%EC%A2%85%EB%A5%98-update20211003\" aria-label=\"test matcher의 자주 사용되는 종류 update20211003 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Test Matcher의 자주 사용되는 종류 (Update.2021.10.03)</h3>\n<table>\n<thead>\n<tr>\n<th align=\"center\">모듈</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\"><strong>toBe</strong></td>\n<td>숫자,문자열 같은 객체가 아닌 기본형 (primitive)값을 비교할 때 사용</td>\n</tr>\n<tr>\n<td align=\"center\"><strong>toEqual</strong></td>\n<td>객체 모든속성을 재귀적으로 비교하는데 사용한다.</td>\n</tr>\n<tr>\n<td align=\"center\"><strong>toContain</strong></td>\n<td>객체 모든속성을 재귀적으로 비교하는데 사용한다.</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"toequal-과-tobe-차이\" style=\"position:relative;\"><a href=\"#toequal-%EA%B3%BC-tobe-%EC%B0%A8%EC%9D%B4\" aria-label=\"toequal 과 tobe 차이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>toEqual 과 toBe 차이</h3>\n<ul>\n<li>toBe는 값이 정확히 같은지 비교</li>\n<li>toEqal 는 객체결과를 비교</li>\n</ul>\n<h3 id=\"mount-와-shallwmount-차이\" style=\"position:relative;\"><a href=\"#mount-%EC%99%80-shallwmount-%EC%B0%A8%EC%9D%B4\" aria-label=\"mount 와 shallwmount 차이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>mount 와 shallwmount 차이</h3>\n<ul>\n<li>mount는 하위컴포넌트 까지 전달</li>\n<li>shallowmonunt는 stub 이 된다. 가짜 컴포넌트 전달이 가능 합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">//describe 그룹화</span>\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'HelloWorld Component'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mounting'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// mount 는 하</span>\n    <span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> <span class=\"token function\">mount</span><span class=\"token punctuation\">(</span>HelloWorld<span class=\"token punctuation\">)</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'HelloWorld!'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'shallowMount'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> <span class=\"token function\">shallowMount</span><span class=\"token punctuation\">(</span>HelloWorld<span class=\"token punctuation\">)</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>wrapper<span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"mocks\" style=\"position:relative;\"><a href=\"#mocks\" aria-label=\"mocks permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>mocks</h3>\n<ul>\n<li>호출 jest.mocks 클래스 생성자 와 모든 메서드 에 대한 호출을 감시하는 <code class=\"language-text\">자동모의</code>를 반환한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">//실제 사용한 예제</span>\n<span class=\"token keyword\">import</span> movie <span class=\"token keyword\">from</span> <span class=\"token string\">'../movie'</span>\n<span class=\"token keyword\">import</span> cloneDeep <span class=\"token keyword\">from</span> <span class=\"token string\">'lodash/cloneDeep'</span>\n<span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span>\n<span class=\"token comment\">//가짜 모듈 만들기</span>\njest<span class=\"token punctuation\">.</span><span class=\"token function\">mock</span><span class=\"token punctuation\">(</span><span class=\"token string\">'axios'</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'movie store'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> store\n  <span class=\"token function\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    store <span class=\"token operator\">=</span> <span class=\"token function\">cloneDeep</span><span class=\"token punctuation\">(</span>movie<span class=\"token punctuation\">)</span>\n    store<span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> movie<span class=\"token punctuation\">.</span><span class=\"token function\">state</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">//this.$store.commit('NAME',payload)</span>\n    store<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">commit</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> payload</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      store<span class=\"token punctuation\">.</span>mutations<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">,</span> payload<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">//this.$store.dispatch('searchMovies' ,payload)</span>\n    <span class=\"token comment\">//return store.actions 비동기 처리 만듬</span>\n    store<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">dispatch</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> payload</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        state<span class=\"token operator\">:</span> store<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">,</span>\n        commit<span class=\"token operator\">:</span> store<span class=\"token punctuation\">.</span>commit<span class=\"token punctuation\">,</span>\n        dispatch<span class=\"token operator\">:</span> store<span class=\"token punctuation\">.</span>dispatch<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">return</span> store<span class=\"token punctuation\">.</span>actions<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">,</span> payload<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'state 가 정상적으로 업데이트 '</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    store<span class=\"token punctuation\">.</span><span class=\"token function\">commit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'updateState'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      loading<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n      title<span class=\"token operator\">:</span> <span class=\"token string\">'Hello!'</span><span class=\"token punctuation\">,</span>\n      movies<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>loading<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello!'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>movies<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'영화목록에 push'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>movies<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    store<span class=\"token punctuation\">.</span><span class=\"token function\">commit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pushIntoMovies'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> Title<span class=\"token operator\">:</span> <span class=\"token string\">'영화 제목'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>movies<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> Title<span class=\"token operator\">:</span> <span class=\"token string\">'영화 제목'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'영화목록 을 가져왔을때'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    axios<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">.</span><span class=\"token function\">mockResolvedValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      data<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        totalResults<span class=\"token operator\">:</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span>\n        Search<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span>\n            imdbID<span class=\"token operator\">:</span> <span class=\"token string\">'123456'</span><span class=\"token punctuation\">,</span>\n            Title<span class=\"token operator\">:</span> <span class=\"token string\">'영화 제목'</span><span class=\"token punctuation\">,</span>\n            Poster<span class=\"token operator\">:</span> <span class=\"token string\">'image.jpg'</span><span class=\"token punctuation\">,</span>\n            Year<span class=\"token operator\">:</span> <span class=\"token string\">'2021'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">await</span> store<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'searchMovies'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>movies<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        imdbID<span class=\"token operator\">:</span> <span class=\"token string\">'123456'</span><span class=\"token punctuation\">,</span>\n        Title<span class=\"token operator\">:</span> <span class=\"token string\">'영화 제목'</span><span class=\"token punctuation\">,</span>\n        Poster<span class=\"token operator\">:</span> <span class=\"token string\">'image.jpg'</span><span class=\"token punctuation\">,</span>\n        Year<span class=\"token operator\">:</span> <span class=\"token string\">'2021'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'영화 목록을 가져오지 못했을 때'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    axios<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">.</span><span class=\"token function\">mockRejectedValue</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Network Error!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">await</span> store<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'searchMovies'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Network Error!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<blockquote>\n<p>실제로 공부하면서 사용한 예제 이며 공부한 내용들을 기록하고 싶어서 적어놓게 되었습니다.\n공부하기 좋은예제라 생각하게 되어 블로그를 쓰게 되었습니다.\n공부하면서 버전관리 가 중요하다는것 깨달았습니다.</p>\n</blockquote>\n<ul>\n<li>\n<p>참조문서</p>\n<ol>\n<li><a href=\"https://jestjs.io/docs/api\">Jest 참조</a></li>\n<li><a href=\"https://vuetifyjs.com/en/getting-started/unit-testing/\">Vuetify</a></li>\n</ol>\n</li>\n</ul>","frontmatter":{"title":"Jest","date":"October 01, 2021"}}},"pageContext":{"slug":"/Vue/jest/","previous":{"fields":{"slug":"/JavaScript/전개연산자/"},"frontmatter":{"title":"전개연산자"}},"next":null}},"staticQueryHashes":["2486386679","3128451518"]}