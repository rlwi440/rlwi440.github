---
title: Rest API
date: 2021-11-11 16:11:87
category: javascript
thumbnail: { ./images/Deep_Dive.png }
draft:
---

![모던자바스크립트](./images/Deep_Dive.png)

## Rest API

`자원(Resource)`,`행위(verb)`,`표현(representations)` 3가지 구성요소가 있다.

`REST`란, REpresentational State Transfer 의 약자이다. 여기에 ~ful 이라는 형용사형 어미를 붙여 ~한 API 라는 표현으로 사용된다. 즉, REST 의 기본 원칙을 성실히 지킨 서비스 디자인은 'RESTful'하다라고 표현할 수 있다.

`REST`가 디자인 패턴이다, 아키텍처다 많은 이야기가 존재하는데, 하나의 아키텍처로 볼 수 있다. 좀 더 정확한 표현으로 말하자면, REST 는 `Resource Oriented Architecture` 이다. API 설계의 중심에 자원(Resource)이 있고 HTTP Method 를 통해 자원을 처리하도록 설계하는 것이다.

### **REST 6 가지 원칙**

1. `Uniform Interface(유니폼 인터페이스)`
   : URI로 지정한 리소스에 대한 조작을 통일되고 한정적인 인터페이스로 수행하는 아키텍쳐 스타일

2.`Stateless (무상태성)`
: 작업을 위한 상태정보를 따로 저장하고 관리하지 않음
ex) 세션/쿠키정보를 별도로 저장/관리 하지 않아 API 서버는 들어오는 요청만 처리하면 됨
서비스 자유도 높아짐, 구현이 단순해짐

3.`Cacheable (캐시 가능)`
: HTTP 기존 웹표준 그대로 사용하여 웹에서 사용하는 기존 인프라 그대로 활용 가능
HTTP가 가진 캐싱 기능 적용 가능

4.`Self-descriptiveness (자체 표현 구조)`
: REST API 메시지만 보고도 이를 쉽게 이해 할 수 있는 자체 표현 구조로 되어있음

5.`Client-Server 구조`
: REST 서버는 API 제공, 클라이언트는 사용자 인증이나 컨텍스트(세션, 로그인 정보)등을 직접 관리하는 구조
클라이언트/서버간 개발 내용이 명확해지고 서로간 의존성이 줄어듦

6.`계층형 구조`
: REST 서버는 다중 계층으로 구성될 수 있다.
(보안, 로드 밸런싱, 암호화 계층을 추가해) 구조상의 유연성을 둘 수 있음
(PROXY, 게이트웨이 같은) 네트워크 기반의 중간매체를 사용할 수 있게 함

> Restful 하게 API를 디자인 한다는것은 아직 이해하기에는 어렵지만 계속보면서
> 수정해 나갈 예정입니다.

### **RESTful 하게 API 를 디자인 한다는 것은 무엇을 의미하는가.(요약)**

1. **리소스** 와 **행위** 를 명시적이고 직관적으로 분리한다.

- 리소스는 `URI`로 표현되는데 리소스가 가리키는 것은 `명사`로 표현되어야 한다.

1. Message 는 Header 와 Body 를 명확하게 분리해서 사용한다.

- Entity 에 대한 내용은 body 에 담는다.
- 애플리케이션 서버가 행동할 판단의 근거가 되는 컨트롤 정보인 API 버전 정보, 응답받고자 하는 MIME 타입 등은 header 에 담는다.
- header 와 body 는 http header 와 http body 로 나눌 수도 있고, http body 에 들어가는 json 구조로 분리할 수도 있다.

1. API 버전을 관리한다.

- 환경은 항상 변하기 때문에 API 의 signature 가 변경될 수도 있음에 유의하자.
- 특정 API 를 변경할 때는 반드시 하위호환성을 보장해야 한다.

1. 서버와 클라이언트가 같은 방식을 사용해서 요청하도록 한다.

- 브라우저는 form-data 형식의 submit 으로 보내고 서버에서는 json 형태로 보내는 식의 분리보다는 json 으로 보내든, 둘 다 form-data 형식으로 보내든 하나로 통일한다.
- 다른 말로 표현하자면 URI 가 플랫폼 중립적이어야 한다.

### **어떠한 장점이 존재하는가?**

1. Open API 를 제공하기 쉽다
2. 멀티플랫폼 지원 및 연동이 용이하다.
3. 원하는 타입으로 데이터를 주고 받을 수 있다.
4. 기존 웹 인프라(HTTP)를 그대로 사용할 수 있다.

### **단점은 뭐가 있을까?**

1. 사용할 수 있는 메소드가 4 가지 밖에 없다.
2. 분산환경에는 부적합하다.
3. HTTP 통신 모델에 대해서만 지원한다.

## Http 요청 메서드 표현

- Http 요청 메서드는 클라이언가 서버에게 요청의 종류와 목적(리소스에 대한 행위)
  CRUD 로 `GET`,`POST`,`PUT`,`PATCH`,`DELTE` 으로 구현한다.

| HTTP 요청 메서드 | 종류           | 목적                 | 페이로드 |
| :--------------: | -------------- | -------------------- | -------- |
|     **GET**      | index/retrieve | 모든/특정리소스 취득 | **X**    |
|     **POST**     | create         | 리소스 생성          | **O**    |
|     **PUT**      | replace        | 리소스의 전체교체    | **O**    |
|    **PATCH**     | modify         | 리소스의 일부수정    | **O**    |
|    **DELTE**     | delete         | 모든/특정 삭제       | **X**    |

- [RestAPI](https://meetup.toast.com/posts/92) 세세한 내용이 나와있습니다
- [신입 개발자 전공 지식](https://github.com/rlwi440/tech-interview-for-developer) 예제 입니다.

> 세세한 내용보다는 내가 알고있는 지식들을 체크하면서 적어놓은 내용입니다.
> 아직까지는 정확하게 Rest api 에 얕은지식을 알지만 더욱더 공부하기 위해 수정 을하면서 정리 할 예정입니다.
